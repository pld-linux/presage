--- presage-0.9.1/src/lib/core/charsets.h.orig	2012-05-25 10:50:55.000000000 +0200
+++ presage-0.9.1/src/lib/core/charsets.h	2019-07-30 21:48:41.135064799 +0200
@@ -106,70 +106,70 @@
     '8',
     '9',
 	
-    Agrave  ,
-    Aacute  ,
-    Acirc   ,
-    Atilde  ,
-    Auml    ,
-    Aring   ,
-    AElig   ,
-    Ccedil  ,
-    Egrave  ,
-    Eacute  ,
-    Ecirc   ,
-    Euml    ,
-    Igrave  ,
-    Iacute  ,
-    Icirc   ,
-    Iuml    ,
-    ETH     ,
-    Ntilde  ,
-    Ograve  ,
-    Oacute  ,
-    Ocirc   ,
-    Otilde  ,
-    Ouml    ,
-    times   ,
-    Oslash  ,
-    Ugrave  ,
-    Uacute  ,
-    Ucirc   ,
-    Uuml    ,
-    Yacute  ,
-    THORN   ,
-    szlig   ,
-    agrave  ,
-    aacute  ,
-    acirc   ,
-    atilde  ,
-    auml    ,
-    aring   ,
-    aelig   ,
-    ccedil  ,
-    egrave  ,
-    eacute  ,
-    ecirc   ,
-    euml    ,
-    igrave  ,
-    iacute  ,
-    icirc   ,
-    iuml    ,
-    eth     ,
-    ntilde  ,
-    ograve  ,
-    oacute  ,
-    ocirc   ,
-    otilde  ,
-    ouml    ,
-    divide  ,
-    oslash  ,
-    ugrave  ,
-    uacute  ,
-    ucirc   ,
-    uuml    ,
-    yacute  ,
-    thorn   ,
-    yuml    ,
+    (char)Agrave  ,
+    (char)Aacute  ,
+    (char)Acirc   ,
+    (char)Atilde  ,
+    (char)Auml    ,
+    (char)Aring   ,
+    (char)AElig   ,
+    (char)Ccedil  ,
+    (char)Egrave  ,
+    (char)Eacute  ,
+    (char)Ecirc   ,
+    (char)Euml    ,
+    (char)Igrave  ,
+    (char)Iacute  ,
+    (char)Icirc   ,
+    (char)Iuml    ,
+    (char)ETH     ,
+    (char)Ntilde  ,
+    (char)Ograve  ,
+    (char)Oacute  ,
+    (char)Ocirc   ,
+    (char)Otilde  ,
+    (char)Ouml    ,
+    (char)times   ,
+    (char)Oslash  ,
+    (char)Ugrave  ,
+    (char)Uacute  ,
+    (char)Ucirc   ,
+    (char)Uuml    ,
+    (char)Yacute  ,
+    (char)THORN   ,
+    (char)szlig   ,
+    (char)agrave  ,
+    (char)aacute  ,
+    (char)acirc   ,
+    (char)atilde  ,
+    (char)auml    ,
+    (char)aring   ,
+    (char)aelig   ,
+    (char)ccedil  ,
+    (char)egrave  ,
+    (char)eacute  ,
+    (char)ecirc   ,
+    (char)euml    ,
+    (char)igrave  ,
+    (char)iacute  ,
+    (char)icirc   ,
+    (char)iuml    ,
+    (char)eth     ,
+    (char)ntilde  ,
+    (char)ograve  ,
+    (char)oacute  ,
+    (char)ocirc   ,
+    (char)otilde  ,
+    (char)ouml    ,
+    (char)divide  ,
+    (char)oslash  ,
+    (char)ugrave  ,
+    (char)uacute  ,
+    (char)ucirc   ,
+    (char)uuml    ,
+    (char)yacute  ,
+    (char)thorn   ,
+    (char)yuml    ,
 
     '\0' };
 
--- presage-0.9.1/apps/gtk/gprompter/scintilla/gtk/ScintillaGTK.cxx.orig	2015-04-21 13:31:43.000000000 +0200
+++ presage-0.9.1/apps/gtk/gprompter/scintilla/gtk/ScintillaGTK.cxx	2024-10-26 14:38:10.956803818 +0200
@@ -1626,7 +1626,7 @@ void ScintillaGTK::ReceivedDrop(GtkSelec
 		drop.push_back('\0');
 		NotifyURIDropped(&drop[0]);
 	} else if ((TypeOfGSD(selection_data) == GDK_TARGET_STRING) || (TypeOfGSD(selection_data) == atomUTF8)) {
-		if (TypeOfGSD(selection_data) > 0) {
+		if (LengthOfGSD(selection_data) > 0) {
 			SelectionText selText;
 			GetGtkSelectionText(selection_data, selText);
 			DropAt(posDrop, selText.Data(), selText.Length(), false, selText.rectangular);
